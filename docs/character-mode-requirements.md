# キャラクターモード 要件定義

## 概要
Phase 4で実装予定のキャラクターモード機能についての要件をまとめる。

---

## 現状（ベジータモード）

### 既存のセリフ（18種類）
- 出題時: 4種類
- 正解時: 4種類
- 不正解時: 4種類
- タイムアウト時: 4種類
- クイズ開始時: 1種類
- 結果発表時: 3種類（成績別）

### 口調変換ルール
- `です。` → `だ!`
- `ます。` → `るぞ!`
- `ください` → `しろ`
- 意志形 → 命令形（覚えよう → 覚えろ!）

---

## 提案内容

### 1. セリフのカスタマイズ機能
- ユーザーが既存のセリフを自由に編集可能にする
- 対象セリフ:
  - 出題時（questionIntro）
  - 正解時（correct）
  - 不正解時（incorrect）
  - タイムアウト時（timeout）
  - クイズ開始時（quizStart）
  - 結果発表時（quizComplete）

### 2. カスタムアバター画像
- ユーザーがアップロードした画像をセリフの左側に表示
- 現在のPresenterDialogコンポーネントのアバター部分をカスタマイズ可能に

### 3. 口調変換ルールの選択機能
- 複数の口調変換ルールをプリセットとして用意
- ユーザーが好みのルールを選択可能
- プリセット一覧:
  1. 丁寧語（デフォルト/変換なし）
  2. 俺様系（現ベジータ: だ! ぞ! しろ!）
  3. お嬢様系（ですわ、〜ますの、〜てよ）
  4. 博士系（〜じゃ、〜のう、〜であるな）
  5. ギャル系（〜じゃん、マジ〜、〜っしょ）
  6. 元気な子1（〜だよ！〜だね！〜しよう！）
  7. 元気な子2（〜です！〜ます！元気な敬語）
  8. おじさん構文（〜かな❓😅 〜だね✨ 絵文字多用）



---

## 追加提案（ベジータより）

### 4. キャラクター名のカスタマイズ
- 「ベジータ」「ノーマル」のような表示名をユーザーが自由に設定可能
- 例: 「マイキャラ」「先生」「師匠」など

### 5. プリセットキャラクターの提供
- 現在のベジータモードをプリセットとして残す
- ユーザーはプリセットをベースにカスタマイズ可能
- 「プリセットから作成」「ゼロから作成」を選択

### 6. キャラクター設定の保存・切り替え
- 複数のカスタムキャラクターを保存可能
- メニューから切り替え可能
- localStorageに保存

### 7. 設定画面のUI
- キャラクター編集専用の設定画面が必要
- セリフ一覧の編集
- 画像アップロード
- 口調ルール選択
- プレビュー機能（設定したセリフがどう表示されるか確認）

---

## 検討事項

- ~~データの保存形式（localStorage? IndexedDB?）~~ → **localStorage採用**
- ~~画像のサイズ制限・形式~~ → **200x200px、100KB以下、Base64保存**
- ~~プリセット口調ルールの種類と数~~ → **8種類（下記参照）**
- ~~設定画面へのアクセス方法（メニューから? トグルボタン長押し?）~~ → **設定ボタンを追加**

### 口調プリセット（8種類）
1. 丁寧語（変換なし）
2. 俺様系（だ! ぞ! しろ!）
3. お嬢様系（ですわ、〜てよ）
4. 博士系（〜じゃ、〜のう）
5. ギャル系（〜じゃん、マジ〜）
6. 元気な子1（〜だよ！〜だね！）
7. 元気な子2（〜です！〜ます！）
8. おじさん構文（絵文字多用❓😅✨）



---

## 決定事項

### 採用する機能一覧

| # | 機能 | 概要 |
|---|------|------|
| 1 | セリフのカスタマイズ | 出題時・正解時・不正解時等のセリフをユーザーが編集可能 |
| 2 | カスタムアバター画像 | アップロードした画像をセリフ横に表示 |
| 3 | 口調変換ルールの選択 | 複数プリセット（俺様系・お嬢様系・博士系等）から選択 |
| 4 | キャラクター名のカスタマイズ | 表示名を自由に設定可能 |
| 5 | プリセットキャラクターの提供 | ベジータモードをプリセットとして残す、ベースにカスタマイズ可能 |
| 6 | キャラクター設定の保存・切り替え | 複数キャラクターを保存して切り替え |
| 7 | 設定画面のUI | 専用編集画面・プレビュー機能 |



---

## 更新履歴
- 2026/01/14: ドキュメント作成、要件定義完了
